---
layout: null
permalink: /search.json
---
[
{% assign items = site.snipdumps | concat: site.projects %}
{% for p in items %}
{
  "title": {{ p.title | jsonify }},
  "url": {{ p.url | relative_url | jsonify }},
  "date": {{ p.date | date: "%Y-%m-%d" | jsonify }},
  "type": {% if p.collection %}{{ p.collection | jsonify }}{% else %}{{ 'page' | jsonify }}{% endif %},
  "tags": {{ p.tags | default: empty | jsonify }},
  "categories": {{ p.categories | default: empty | jsonify }},
  "excerpt": {{ p.content | strip_html | normalize_whitespace | truncate: 300 | jsonify }}
}{% if forloop.last == false %},{% endif %}
{% endfor %}
]
