<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page.title | escape }} | {{ site.title | escape }}</title>
    {%- assign meta_desc_source = page.excerpt | default: site.description -%}
    {%- assign meta_desc = meta_desc_source | strip_html | strip_newlines |
    normalize_whitespace | truncate: 160 -%}
    <meta name="description" content="{{ meta_desc | escape }}" />
    <!-- Open Graph Meta Tags -->
    <meta
      property="og:title"
      content="{{ page.title | default: site.title | escape }}"
    />
    <meta property="og:description" content="{{ meta_desc | escape }}" />
    {% assign og_type = 'website' %} {% if page.layout == 'post' or page.layout
    == 'snipdump' or page.layout == 'project' %} {% assign og_type = 'article'
    %} {% endif %}
    <meta property="og:type" content="{{ og_type }}" />
    <meta property="og:url" content="{{ page.url | absolute_url }}" />
    <meta
      property="og:image"
      content="{{ '/assets/favicon.svg' | absolute_url }}"
    />
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="{{ page.title | default: site.title | escape }}"
    />
    <meta name="twitter:description" content="{{ meta_desc | escape }}" />
    <meta
      name="twitter:image"
      content="{{ '/assets/favicon.svg' | absolute_url }}"
    />
    {% if og_type == 'article' %} {% if page.date %}
    <meta
      property="article:published_time"
      content="{{ page.date | date_to_xmlschema }}"
    />
    {% endif %} {% if page.last_modified_at %}
    <meta
      property="article:modified_time"
      content="{{ page.last_modified_at | date_to_xmlschema }}"
    />
    {% endif %} {% if page.tags %} {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}" />
    {% endfor %} {% endif %} {% endif %}
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@400;600&family=Source+Sans+Pro:wght@400;600&family=Nunito:wght@600;700&family=Manrope:wght@400;600;700&family=JetBrains+Mono:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="{{ '/assets/favicon.svg' | relative_url }}"
      type="image/svg+xml"
    />
    <meta name="theme-color" content="#0a0e27" />
    <!-- Content Security Policy: tighten sources for scripts, styles, images, and frames -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' https://www.googletagmanager.com https://www.google-analytics.com https://giscus.app 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https://github.githubassets.com https://www.google-analytics.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://www.google-analytics.com https://giscus.app; frame-src https://giscus.app; object-src 'none'; base-uri 'self'; form-action 'self'; frame-ancestors 'self'; upgrade-insecure-requests"
    />
    {%- seo -%}
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-K6S5BNLTT5"
      referrerpolicy="origin"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-K6S5BNLTT5");
    </script>
  </head>
  <body
    class="{% if page.url == '/' or page.title == 'Home' %}is-home{% endif %}"
  >
    <div class="accent-wipe" id="accent-wipe" aria-hidden="true"></div>
    <canvas id="particles-canvas"></canvas>

    <nav class="main-nav">
      <div class="nav-container">
        <a href="{{ '/' | relative_url }}" class="nav-logo"
          ><span class="brand-name">Snipdumps</span>
          <span class="brand-by">by Thomas Geens</span></a
        >
        <ul class="nav-links">
          <li><a href="{{ '/' | relative_url }}">Home</a></li>
          <li><a href="{{ '/snipdumps/' | relative_url }}">Snipdumps</a></li>
          <li><a href="{{ '/projects/' | relative_url }}">Projects</a></li>
          <li><a href="{{ '/about/' | relative_url }}">About</a></li>
          <li class="nav-controls">
            <button
              type="button"
              id="search-open"
              class="icon-btn"
              aria-haspopup="dialog"
              aria-controls="search-modal"
              aria-label="Open search"
              title="Search"
            >
              <svg
                viewBox="0 0 24 24"
                aria-hidden="true"
                focusable="false"
                role="img"
                aria-label="Search icon"
              >
                <title>Search icon</title>
                <desc>Magnifying glass for site search</desc>
                <circle cx="11" cy="11" r="6" />
                <line
                  x1="16.5"
                  y1="16.5"
                  x2="21"
                  y2="21"
                  stroke-linecap="round"
                />
              </svg>
            </button>
            <div class="style-picker">
              <button
                type="button"
                id="style-picker"
                aria-haspopup="menu"
                aria-expanded="false"
                aria-label="Typography style: Clean Humanist"
                title="Typography: Clean Humanist"
              >
                <span class="icon-aa"
                  ><span class="aa-head">A</span
                  ><span class="aa-body">a</span></span
                >
              </button>
              <ul
                id="style-menu"
                class="style-menu"
                role="menu"
                aria-label="Choose typography style"
              >
                <li role="none">
                  <button
                    role="menuitem"
                    data-font="poppins-ssp"
                    data-label="Clean Humanist"
                  >
                    Clean Humanist (Poppins + Source Sans)
                  </button>
                </li>
                <li role="none">
                  <button
                    role="menuitem"
                    data-font="poppins-inter"
                    data-label="Neo Tech"
                  >
                    Neo Tech (Poppins + Inter)
                  </button>
                </li>
                <li role="none">
                  <button
                    role="menuitem"
                    data-font="manrope"
                    data-label="Soft Grotesk"
                  >
                    Soft Grotesk (Manrope)
                  </button>
                </li>
                <li role="none">
                  <button
                    role="menuitem"
                    data-font="nunito-inter"
                    data-label="Friendly Pro"
                  >
                    Friendly Pro (Nunito + Inter)
                  </button>
                </li>
                <li role="none">
                  <button
                    role="menuitem"
                    data-font="inter"
                    data-label="Crisp System"
                  >
                    Crisp System (Inter)
                  </button>
                </li>
                <li role="none">
                  <button
                    role="menuitem"
                    data-font="ssp"
                    data-label="Classic Humanist"
                  >
                    Classic Humanist (Source Sans)
                  </button>
                </li>
              </ul>
            </div>
            <button
              type="button"
              id="theme-toggle"
              class="icon-btn theme-toggle"
              role="switch"
              aria-checked="false"
              aria-label="Toggle light or dark theme"
              title="Toggle theme"
            >
              <svg
                class="icon-sun"
                viewBox="0 0 24 24"
                aria-hidden="true"
                focusable="false"
                role="img"
                aria-label="Sun icon"
              >
                <title>Sun icon</title>
                <desc>Circle with rays for light theme</desc>
                <circle cx="12" cy="12" r="4" />
                <line x1="12" y1="1" x2="12" y2="4" />
                <line x1="12" y1="20" x2="12" y2="23" />
                <line x1="1" y1="12" x2="4" y2="12" />
                <line x1="20" y1="12" x2="23" y2="12" />
                <line x1="4.22" y1="4.22" x2="6.34" y2="6.34" />
                <line x1="17.66" y1="17.66" x2="19.78" y2="19.78" />
                <line x1="4.22" y1="19.78" x2="6.34" y2="17.66" />
                <line x1="17.66" y1="6.34" x2="19.78" y2="4.22" />
              </svg>
              <svg
                class="icon-moon"
                viewBox="0 0 24 24"
                aria-hidden="true"
                focusable="false"
                role="img"
                aria-label="Moon icon"
              >
                <title>Moon icon</title>
                <desc>Crescent moon for dark theme</desc>
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
              </svg>
            </button>
          </li>
        </ul>
      </div>
    </nav>

    <main class="main-content">
      <div id="page-root" class="page-transition-enter">{{ content }}</div>
    </main>

    <footer class="main-footer">
      <p>
        &copy; {{ 'now' | date: "%Y" }} {{ site.title }}. Built with
        <svg
          class="footer-icon"
          viewBox="0 0 24 24"
          aria-hidden="true"
          role="img"
          aria-label="Jekyll logo"
        >
          <title>Jekyll logo</title>
          <desc>Square with lines representing a page for Jekyll</desc>
          <rect
            x="3"
            y="3"
            width="18"
            height="18"
            rx="2"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          />
          <path
            d="M9 8h6M9 12h6M9 16h4"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
          />
        </svg>
        Jekyll &
        <svg
          class="footer-icon"
          viewBox="0 0 24 24"
          aria-hidden="true"
          role="img"
          aria-label="GitHub logo"
        >
          <title>GitHub logo</title>
          <desc>Octocat logo for GitHub Pages</desc>
          <path
            d="M12 2C6.48 2 2 6.48 2 12c0 4.42 2.87 8.17 6.84 9.49.5.09.68-.22.68-.48v-1.7c-2.78.6-3.37-1.34-3.37-1.34-.45-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.61.07-.61 1 .07 1.53 1.03 1.53 1.03.89 1.52 2.34 1.08 2.91.83.09-.65.35-1.08.63-1.33-2.22-.25-4.56-1.11-4.56-4.94 0-1.09.39-1.98 1.03-2.68-.1-.25-.45-1.27.1-2.64 0 0 .84-.27 2.75 1.02A9.58 9.58 0 0 1 12 6.8c.85.004 1.71.115 2.51.34 1.91-1.29 2.75-1.02 2.75-1.02.55 1.37.2 2.39.1 2.64.64.7 1.03 1.59 1.03 2.68 0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85v2.75c0 .27.18.58.69.48A10.02 10.02 0 0 0 22 12c0-5.52-4.48-10-10-10z"
            fill="currentColor"
          />
        </svg>
        GitHub Pages using
        <svg
          class="footer-icon"
          viewBox="0 0 24 24"
          aria-hidden="true"
          role="img"
          aria-label="Microsoft FrontPage 97 logo"
        >
          <title>Microsoft FrontPage 97 logo</title>
          <desc>Jigsaw puzzle piece icon for FrontPage 97</desc>
          <path
            d="M20 8h-3c-.55 0-1-.45-1-1s.45-1 1-1h1c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1h-3c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1H8c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1h1c.55 0 1 .45 1 1s-.45 1-1 1H4c-.55 0-1 .45-1 1v3c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1v3c0 .55.45 1 1 1h5c0 .55.45 1 1 1s1-.45 1-1v-1c0-.55.45-1 1-1s1 .45 1 1v1c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-5c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1v-3c0-.55-.45-1-1-1z"
            fill="currentColor"
          />
        </svg>
        Microsoft FrontPage 97.
        <span class="foot-note"
          ><a
            href="https://github.com/thomasgeens/thomasgeens.github.io"
            target="_blank"
            rel="noopener"
            >Source on GitHub</a
          ></span
        >
      </p>
    </footer>

    <script src="{{ '/assets/js/particles.js' | relative_url }}" defer></script>
    <script
      src="{{ '/assets/js/font-toggle.js' | relative_url }}"
      defer
    ></script>
    <script src="{{ '/assets/js/toc.js' | relative_url }}" defer></script>
    <script
      src="{{ '/assets/js/search.js' | relative_url }}"
      data-search-index="{{ '/search.json' | relative_url }}"
      defer
    ></script>
    <script src="{{ '/assets/js/code-copy.js' | relative_url }}" defer></script>
    <script defer>
      (function () {
        // Page enter animation
        var root = document.getElementById("page-root");
        if (root) {
          requestAnimationFrame(function () {
            root.classList.add("page-transition-enter-active");
          });
        }

        // Accent wipe helper
        var wipe = document.getElementById("accent-wipe");
        function triggerWipe() {
          if (!wipe) return;
          wipe.classList.add("active");
          setTimeout(function () {
            wipe.classList.remove("active");
          }, 500);
        }

        // Exit fade + tiny delay for crossfade feel on internal nav
        var reduceMotion = window.matchMedia(
          "(prefers-reduced-motion: reduce)",
        ).matches;
        document.addEventListener("click", function (e) {
          var link = e.target.closest("a");
          if (!link) return;
          var href = link.getAttribute("href");
          if (!href) return;
          // Skip for new tab/middle click or explicit external/hash links
          if (
            e.metaKey ||
            e.ctrlKey ||
            e.shiftKey ||
            e.altKey ||
            e.button === 1
          )
            return;
          var sameHost = link.host === window.location.host;
          var isHash = href.startsWith("#");
          var isExternal =
            link.target === "_blank" ||
            (/^https?:\/\//.test(href) && !sameHost);
          if (isExternal || isHash) return;

          // Internal link: animate and delay navigation slightly
          triggerWipe();
          if (reduceMotion) return; // respect reduced motion; no delay

          e.preventDefault();
          document.body.classList.add("page-exiting");
          if (root) root.classList.add("page-transition-exit");
          setTimeout(function () {
            window.location.href = link.href;
          }, 150);
        });
      })();
    </script>
    <script
      src="{{ '/assets/js/easter-egg.js' | relative_url }}"
      defer
    ></script>

    <!-- Search Modal -->
    <div
      id="search-modal"
      class="search-modal"
      hidden
      role="dialog"
      aria-modal="true"
      aria-labelledby="search-title"
    >
      <div class="search-panel">
        <div class="search-header">
          <h2 id="search-title">Search</h2>
          <button
            type="button"
            id="search-close"
            class="icon-btn"
            aria-label="Close search"
            title="Close"
          >
            <svg
              viewBox="0 0 24 24"
              aria-hidden="true"
              focusable="false"
              role="img"
              aria-label="Close icon"
            >
              <title>Close icon</title>
              <desc>X shape for closing modals</desc>
              <line x1="6" y1="6" x2="18" y2="18" stroke-linecap="round" />
              <line x1="18" y1="6" x2="6" y2="18" stroke-linecap="round" />
            </svg>
          </button>
        </div>
        <div class="search-input">
          <input
            id="search-query"
            type="search"
            placeholder="Search titles and content..."
            autocomplete="off"
          />
        </div>
        <div class="filters">
          <div class="filter-group">
            <div class="filter-title">Tags</div>
            <div id="tag-cloud" class="chips"></div>
          </div>
          <div class="filter-group">
            <div class="filter-title">Categories</div>
            <div id="category-cloud" class="chips"></div>
          </div>
          <div class="filter-group">
            <div class="filter-title">Year</div>
            <div id="year-cloud" class="chips"></div>
          </div>
          <div class="filter-group">
            <div class="filter-title">Sort</div>
            <div id="sort-cloud" class="chips"></div>
          </div>
        </div>
        <div
          id="search-results"
          class="search-results"
          aria-live="polite"
        ></div>
      </div>
    </div>

    <!-- Pi Easter Egg Trigger -->
    <button
      id="pi-trigger"
      class="pi-trigger"
      aria-label="Open the pi easter egg"
      title="Ï€"
    >
      <svg
        viewBox="0 0 24 24"
        aria-hidden="true"
        focusable="false"
        role="img"
        aria-label="Pi symbol"
      >
        <title>Pi symbol</title>
        <desc>Stylized pi for easter egg trigger</desc>
        <path
          d="M4 6h16M8 6v12m8-12c-2 0-3 1.5-3 4v8"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>

    <!-- Pi Easter Egg Overlay -->
    <div id="pi-overlay" class="pi-overlay" hidden>
      <div class="pi-stack" aria-hidden="true"></div>
      <div
        class="pi-message card"
        id="pi-message"
        role="dialog"
        aria-modal="true"
        aria-labelledby="pi-msg-title"
        aria-describedby="pi-msg-text"
        hidden
      >
        <div class="pi-msg-head">
          <h2 id="pi-msg-title" class="glitch" data-text="Access Granted">
            Access Granted
          </h2>
          <button
            type="button"
            id="pi-close"
            class="icon-btn"
            aria-label="Close"
            title="Close"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <line x1="6" y1="6" x2="18" y2="18" stroke-linecap="round" />
              <line x1="18" y1="6" x2="6" y2="18" stroke-linecap="round" />
            </svg>
          </button>
        </div>
        <p id="pi-msg-text">
          Sandra Bullock would've loved this... But seriously dude, you've seen
          way too many movies :laughing:
        </p>
      </div>
    </div>
  </body>
</html>
